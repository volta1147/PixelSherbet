# 코드 스타일에 관한 규칙

## 목적
1. 현재의 파편화된 코드 스타일을 개선하고 통일안을 마련하기 위함이다. 

## 용어
2. 아래에서 사용하는 용어는 다음과 같이 정의한다. \
  메인 코드란, 실행 시 필요한 기본 프로그램과 그 코드를 의미한다. \
  추가 기능이란, 기본 프로그램을 제외한 다른 명령어를 의미한다. 

## 구조
3. 바탕이 되는 코드는 가장 바깥에, 그 외 기능 실행 시 필요한 함수들은 lib 폴더 안에, 추가 기능은 Cogs 폴더 안에 위치한다. \
  프로그램에 있어서 필요한 파일들은 res폴더 안에 위치하며, 보안 상 숨겨둘 파일은 res\\security 폴더에, 그 외의 설정값을 저장한 파일은 res 폴더에 텍스트 파일로, 명세는 res 폴더에 마크다운 파일로 저장한다.
4. 메인 코드는 main.py, 런처와의 호환성을 맞추는 라이브러리는 launchio.py로, 실행 시 필요한 정보를 불러오는 라이브러리는 lib 폴더 속 botsetup.py로 한다. \
  security 폴더에 있어야 할 항목은 security 폴더 속 securityfiles.txt에 따른다. 
5. 메모 등 커뮤니티 활동을 통해 생성되는 파일들은 community 폴더 속에 저장한다. 
6. 새로운 명령어를 추가할 때 적절한 Cog를 사용하며, 적절한 Cogs가 없을 때는 새로 만든다. 

## 표현 방식

### 프로그래밍 구조 및 명령어

7. 모든 플랫폼과 최신 파이썬 버전에서 최대한 호환이 가능하도록 한다. 
8. Client 기반 함수들은 사용을 자제한다. 현재 프로그램의 구조인 commands.Bot을 따른다. 
9. 상호작용이 필요한 명령어는 슬래시 명령어를 사용하며, 그렇지 않은 경우는 메시지형 명령어도 허용한다.\
  메시지형 명령어는 장기적으로 제거해나가는 것을 원칙으로 한다. 
10. Cogs는 res 폴더 속 CogsTemplete.py 의 내용을 따른다. 

### 파일 입출력
11. 모든 파일 입출력은 launchio.py 기반으로 한다. 이는 런처와의 호환성을 유지하기 위함이다. 

### 작명
12. 기본적으로, [PEP8(파이썬 코딩 스타일에 대한 가이드)](<https://peps.python.org/pep-0008/>)를 따른다. 
13. 이름은 그 사용처와 용도가 잘 드러나도록 한다. 
14. 사용처가 비슷한 함수/변수의 경우 글자 수를 맞춘다. 
15. Cogs는 첫 문자를 대문자로 하되(예시 : Memo.py), 대문자로 자주 쓰이는 단어의 경우(TTS -> TTS.py) 그대로 사용한다. 
16. 명령어 이름은 함수의 작명규칙을 따라 직관적으로 . 
  사용처가 비슷한 명령어는 group로 묶는다. 

### 스타일
17. f"{변수명}" 형식을 표준으로 한다. 
18. 상태를 나타내거나 Literal을 사용하여 특정 값을 인수로 받을 때, 또는 그런 값을 리턴할 때는 작은따옴표를 쓰고, 나머지 경우에는 큰따옴표를 쓴다. 
19. 키워드 인수나 초기값을 설정하는 부분에서는 등호 양쪽에 띄어쓰기를 하지 않는다. 
20. 함수의 타입 힌트, 타입 어노테이션은 적는 것을 기본으로 한다. 
21. 사용처가 비슷한 함수, 변수끼리 같은 클래스로 만든다. \
  다른 클래스의 것과 사용 방법이 비슷한 함수, 변수끼리는 이름을 같게 한다. 

## 선언 시 주의사항
22. prefix와 memoprefix는 다른 값을 가지는 것을 원칙으로 한다. 

## 버전 작명 방식
23. (메이저 버전).(마이너 버전).(날짜코드) 형식으로 적는다.\
  불가피한 상황이 아니라면 날짜코드는 YYMN으로 한다. 단, N은 그 달에 나온 정식 버전 개수이다. (예시 : 2471은 2024년 7월의 첫 버전이다. )\
  10월, 11월, 12월은 각각 A, B, C로 표기한다. 
24. 베타버전은 같은 달 정식 버전이 공개된다고 가정한 날짜코드에서 1을 뺀 후 버전코드와 개발번호를 붙인다. (예시 : 3.0.2471의 베타 2는 3.0.2470 beta 2로 이름짓는다. )\
  버전코드는 새 기능을 추가하기 위해 구조 변경, 테스트용 명령어의 추가등의 사전작업은 alpha, 기능 추가는 beta, 버그 수정은 final을 붙인다.\
  개발번호는 그 버전코드를 붙인 버전의 개수를 버전코드 뒤에 붙인다. (예시 : 3.0.2471를 대비하기 위해 기능을 추가한 2번째 버전의 버전코드는 beta이며, 총 2개 존재하므로 beta 2이다. )

# 부칙
## 효력
1. 이 규칙은 정해진 날부터 시행한다. 
2. 이 규칙은 규칙 개정 시까지 유효하다.
3. 위 규칙과 충돌하는 현재 코드 스타일은 [코드 스타일 개선에 관한 규칙](CodeFix.md)에 의거하여 수정한다.